<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="apple-mobile-web-app-capable" content="yes"><!-- 在苹果Safari浏览器上，可以把网站变为桌面图标，安卓默认可以 -->
  <meta name="apple-mobile-web-app-status-bar-style" content="black"><!-- 苹果手机状态栏显示为黑色 -->
  <meta name="format-detection" content="telephone=no">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no, viewport-fit=cover">
  <title>20001010834-蒋承翰</title>
  <link rel="stylesheet" href="./css/pub2.css">
  <link rel="stylesheet" href="./css/dangdang.css">
  <link rel="stylesheet" href="./fonts/iconfont.css">
  <link rel="stylesheet" href="./js/swiper/swiper-bundle.min.css">
</head>
<body>
  <!-- 头部 -->
  <header class="channel-menu"><!-- t-title -->
    <div class="left">
      <span class="iconfont icon-find"></span>
      <input type="text" placeholder="搜索">
    </div>
    <div class="tabs">
        <a href="#" class="cur">推荐</a>
        <a href="#" class="">直播</a>
        <a href="#" class="">新书速递</a>
    </div>
    <div class="right">
      <a href="./message.html" class="talk">
        <i class="iconfont icon-message"></i>
      </a>
      <a href="#" class="library">
        <i class="iconfont icon-library"></i>
      </a>
      <a href="#" class="userinfo">
        <i class="iconfont icon-my"></i>
      </a>
    </div>
  </header>


  <!-- 内容区 -->
  <div class="tc show">
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/2.jpeg">
              <div class="txt">
                <p class="subject">#带一本书去冬天</p>
                <span class="append">290人正在参与话题</span>
              </div>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/n1.jpg">
              <div class="txt">
                  <p class="subject">#2022年还没看完的书</p>
                  <span class="append">62人正在参与话题</span>
              </div>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/n3.jpg">
              <div class="txt">
                  <p class="subject">#优雅的私家豪宅</p>
                  <span class="append">1322人正在参与话题</span>
              </div>
            </a>
          </div>
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/n4.jpg">
              <div class="txt">
                  <p class="subject">#共赏红河谷的绝美景色</p>
                  <span class="append">99人正在参与话题</span>
              </div>
            </a> 
          </div>
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/n4.jpg">
              <div class="txt">
                  <p class="subject">#共赏红河谷的绝美景色</p>
                  <span class="append">99人正在参与话题</span>
              </div>
            </a> 
          </div>
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/n4.jpg">
              <div class="txt">
                  <p class="subject">#共赏红河谷的绝美景色</p>
                  <span class="append">99人正在参与话题</span>
              </div>
            </a> 
          </div>
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/n4.jpg">
              <div class="txt">
                  <p class="subject">#共赏红河谷的绝美景色</p>
                  <span class="append">99人正在参与话题</span>
              </div>
            </a> 
          </div>
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/n4.jpg">
              <div class="txt">
                  <p class="subject">#共赏红河谷的绝美景色</p>
                  <span class="append">99人正在参与话题</span>
              </div>
            </a> 
          </div>
          <div class="swiper-slide">
            <a href="#">
              <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/n4.jpg">
              <div class="txt">
                  <p class="subject">#共赏红河谷的绝美景色</p>
                  <span class="append">99人正在参与话题</span>
              </div>
            </a> 
          <!-- </div> -->
        </div>
      </div>
    </div>
    <div class="recommend">
        <ul class="jlist">
        </ul>
    </div>
  </div>

  <!-- 直播 -->
  <div class="tc zhibo">
    <ul class="list">
      <li>
          <a href="#">
              <img src="./images/dangdu/n1.jpg">
              <p>美丽的风景</p>
          </a>
      </li>
      <li>
          <a href="#">
              <img src="./images/dangdu/n2.jpg">
              <p>神奇的JS</p>
          </a>
      </li>
      <li>
          <a href="#">
              <img src="./images/dangdu/n3.jpg">
              <p>火爆的前端</p>
          </a>
      </li>
      <li>
          <a href="#">
              <img src="./images/dangdu/n4.jpg">
              <p>PHP-世界上最美的语言</p>
          </a>
      </li>
      <li>
          <a href="#">
              <img src="./images/dangdu/n5.jpg">
              <p>人生苦短，我学Python</p>
          </a>
      </li>
      <li>
          <a href="#">
              <img src="./images/dangdu/n6.jpg">
              <p>JS高级编程</p>
          </a>
      </li>
  </ul>
  </div>
  <!-- 滚动栏 -->
  <div class="tc">
    <div class="slider">
      <div class="slider-wrapper">
        <img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/img1.jpg">
      </div>
      <div class="slider-footer">
        <ul class="slider-indicator">
          <li class="active"></li> <!-- 1-3 -->
          <li></li>
          <li></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- 下导航条 -->
  <nav id="bnav">
    <ul>
      <li>
        <a href="./index.html">
          <div class="iconfont icon-home"></div>
          <p>首页</p>
        </a>  
      </li>
      <li>
        <a href="./fenlei.html">
          <div class="iconfont icon-fenlei"></div>
          <p>分类</p>
        </a>
      </li>
      <li>
        <a href="./dangdu.html">
          <div class="iconfont icon-read"></div>
          <p>当读</p>
        </a>  
      </li>
      <li>
        <a href="./gouwuche.html">
          <div class="iconfont icon-buy"></div>
          <p>购物车</p>
        </a>    
      </li>
      <li>
        <a href="./home.html">
          <div class="iconfont icon-my"></div>
          <p>我的</p>
        </a>     
      </li>
    </ul>
  </nav>

  <script src="./js/swiper-bundle.min.js"></script>
  <script>
    var swiper = new Swiper(".mySwiper", {
      slidesPerView: 2,/* 一个网页里放两个视图 */
      spaceBetween: 20,/* 它们之间的间隔是20 */
    });
  </script>
  <script><!-- 滚动栏 -->
    let head = document.querySelector(".channel-menu")
    let tab = head.querySelector(".tabs")
    let a = tab.getElementsByTagName("a")
    let tc = document.querySelectorAll(".tc")
    for (i=0; i<a.length; i++) {
      a[i].index = i
      a[i].onmousedown = function() {
        for (j=0; j<tc.length; j++) {
          tc[j].style.display = "none"
          a[j].className = ""
        }
        tc[this.index].style.display = "block"
        this.className = "cur"
      }
    }


    const sliderData = [ //0-2
      { url: 'https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/img1.jpg'},
      { url: 'https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/img2.jpg'},
      { url: 'https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/img3.jpg'}
    ]

    
    let count = 0 //数组下标从0开始
    // .获取对象
    const img = document.querySelector('.slider-wrapper img')
    // 4.定时器  有了定时器，就不需要再用循环
    let n = setInterval(function(){
      count++
      //先清除其他有小圆点的
      document.querySelector(`.slider-indicator .active`).classList.remove('active')
      //再增加
      document.querySelector(`.slider-indicator li:nth-child(${count+1})`).classList.add('active')
      
      
      //更改图片路径    0——2
      img.src = sliderData[count].url
      if (count === 2) {//count加到2时，显示的是第3张图
      count = -1
    }
    }, 3000)
  </script>

  <script>
    /* 数据 */
    // var jarr=[{
    //   img:"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/3.jpg",
    //   title:"由于疫情和工作繁忙，已经很长时间没能领孩子去...",
    // },
    // {
    //   img:"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/6.jpg",
    //   title:"纪念近代新月派代表诗人徐志摩先生逝世91周年",
   
    // },
    // {
    //   img:"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/3.jpg",
    //   title:"由于疫情和工作繁忙，已经很长时间没能领孩子去...",
   
    // },
    // {
    //   img:"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/4.jpg",
    //   title:"今日小雪|好将一点红炉雪，化作人间照夜灯",
 
    // },
    // {
    //   img:"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/5.jpg",
    //   title:"与教材同步的初中语文阅读书单",
  
    // },
    // {
    //   img:"https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9357/4.jpg",
    //   title:"今日小雪|好将一点红炉雪，化作人间照夜灯",

    // }
    // ]

    /* 服务器JSON数据 */
    var url = "http://rap2api.taobao.org/app/mock/308883/dangdu";
    var xhr = new XMLHttpRequest();
    xhr.open("GET", url, true);
    xhr.send();
    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status == 200) {
        var jarr = JSON.parse(xhr.responseText);
        insert(jarr);/* 自定义函数 */
      }
    }

    function insert(jarr) {
      var alist1 = document.querySelector(".jlist");
      jarr.forEach((v, i) => {
        var nli = document.createElement("li")
        nli.innerHTML = `
            <a href="#">
              <img src="${v.img}">
              <p>${v.title}</p>
            </a>`;
          alist1.appendChild(nli);//增加li
      })
    }  
  </script>
</body>
</html>